<ion-content>
  <!-- <p>{{data | json}}</p> -->
  <!-- 
<div *ngIf="isLoading">
  <ion-list >
    <ion-item tappable *ngFor="let item of data.list">
      <h5 class="slide-title">
        <p>{{item.author}}  |   {{item.datePosted | date}}</p>
      </h5>
      <p text-wrap no-lines>{{item.title}}</p>
      <ion-icon name="arrow-dropright-circle" item-right></ion-icon>
    </ion-item>
  </ion-list>
</div> -->

  <form (ngSubmit)="postTribute(userForm.value)" [formGroup]="userForm">
    <ion-item-divider color="twitter">
      <ion-label> Tribute Update Form</ion-label>
    </ion-item-divider>

    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-list class="inputs-list" lines="full">
            <div class="form-group">
              <label>Tribute Type</label>
              <ion-item class="input-item">
                <ionic-selectable
                  formControlName="ttype"
                  [hasVirtualScroll]="true"
                  [items]="tributeTypesArray"
                  [canSearch]="true"
                  itemValueField="value"
                  itemTextField="name"
                  searchPlaceholder="Enter first character to narrow search"
                >
                </ionic-selectable>
              </ion-item>
            </div>

            <div class="error-container">
              <div *ngFor="let validation of validationMessages.author">
                <div
                  class="error-message"
                  *ngIf="
                    userForm.get('ttype').hasError(validation.type) &&
                    (userForm.get('ttype').dirty ||
                      userForm.get('ttype').touched)
                  "
                >
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ validation.message }}</span>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Author Name</label>
              <ion-item class="input-item">
                <ion-input
                  type="text"
                  formControlName="author"
                  name="author"
                  clearInput
                >
                </ion-input>
              </ion-item>
            </div>

            <div class="error-container">
              <div *ngFor="let validation of validationMessages.author">
                <div
                  class="error-message"
                  *ngIf="
                    userForm.get('author').hasError(validation.type) &&
                    (userForm.get('author').dirty ||
                      userForm.get('author').touched)
                  "
                >
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ validation.message }}</span>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Localtion</label>
              <ion-item class="input-item">
                <ion-input
                  type="text"
                  formControlName="location"
                  name="location"
                  clearInput
                >
                </ion-input>
              </ion-item>
            </div>

            <div class="error-container">
              <div *ngFor="let validation of validationMessages.location">
                <div
                  class="error-message"
                  *ngIf="
                    userForm.get('location').hasError(validation.type) &&
                    (userForm.get('location').dirty ||
                      userForm.get('location').touched)
                  "
                >
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ validation.message }}</span>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>Title</label>
              <ion-item class="input-item">
                <ion-input
                  type="text"
                  formControlName="title"
                  name="title"
                  clearInput
                >
                </ion-input>
              </ion-item>
            </div>

            <div class="error-container">
              <div *ngFor="let validation of validationMessages.title">
                <div
                  class="error-message"
                  *ngIf="
                    userForm.get('title').hasError(validation.type) &&
                    (userForm.get('title').dirty ||
                      userForm.get('title').touched)
                  "
                >
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ validation.message }}</span>
                </div>
              </div>
            </div>

            <ion-label>Content</ion-label>
            <ion-item class="input-item">
              <ion-textarea
                rows="6"
                cols="20"
                formControlName="content"
                name="content"
                placeholder="Enter any notes here..."
                clearInput
              ></ion-textarea>
            </ion-item>

            <div class="error-container">
              <div *ngFor="let validation of validationMessages.content">
                <div
                  class="error-message"
                  *ngIf="
                    userForm.get('content').hasError(validation.type) &&
                    (userForm.get('content').dirty ||
                      userForm.get('content').touched)
                  "
                >
                  <ion-icon name="information-circle-outline"></ion-icon>
                  <span>{{ validation.message }}</span>
                </div>
              </div>
            </div>

            <ion-item class="input-item">
              <ion-label>Tags</ion-label>
              <ion-textarea
                rows="3"
                cols="20"
                formControlName="tag"
                name="tag"
                placeholder="should be comma separated"
                clearInput
              ></ion-textarea>
            </ion-item>

            <!--  -->
          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-item>
          <ion-button color="medium" (click)="selectImageSource()"
            >Load file</ion-button
          >
        </ion-item>

        <ion-col size="12" size-md="4">
          <ion-img
            [src]="image || '../assets/images/house.png'"
            alt=""
            class="image-placeholder image-border"
          ></ion-img>
          <input
            type="file"
            style="display: none"
            accept=".jpg, .jpeg, .png, .doc, .docx, .pdf"
            (change)="imageSelected($event)"
            #fileInput
            capture
          />
        </ion-col>
      </ion-row>
    </ion-grid>

    <!--  <button ion-button round end favorite type="submit" [disabled]="!userForm.valid">Get Vehicles</button>
      -->

    <ion-row>
      <ion-col>
        <ion-button color="primary" type="submit" [disabled]="!userForm.valid">
          <ion-icon name="save"></ion-icon>
          Save Tribute
        </ion-button>
      </ion-col>

      <ion-col>
        <ion-button color="secondary" (click)="dismissClose()">
          <ion-icon name="close-circle-outline"></ion-icon>
          Close
        </ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
